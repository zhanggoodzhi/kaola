(function(b,a){if(typeof define==="function"&&define.amd){define(["angular"],function(c){return a(c)})}else{return a(b)}}(window.angular||null,function(a){(function(){a.module("ngTable",[])})();(function(){a.module("ngTable").value("ngTableDefaults",{params:{},settings:{}})})();(function(){a.module("ngTable").factory("ngTableEventsChannel",b);b.$inject=["$rootScope"];function b(d){var g={};g=e("afterCreated",g);g=e("afterReloadData",g);g=e("datasetChanged",g);g=e("pagesChanged",g);return g;function e(i,k){var l=i.charAt(0).toUpperCase()+i.substring(1);var j={};j["on"+l]=f(i);j["publish"+l]=c(i);return a.extend(k,j)}function f(i){return function j(m){var n=a.identity;var l=d;if(arguments.length===2){if(a.isFunction(arguments[1].$new)){l=arguments[1]}else{n=arguments[1]}}else{if(arguments.length>2){l=arguments[1];n=arguments[2]}}if(a.isObject(n)){var k=n;n=function(o){return o===k}}return l.$on("ngTable:"+i,function(p,q){if(q.isNullInstance){return}var o=h(arguments,2);var r=[q].concat(o);if(n.apply(this,r)){m.apply(this,r)}})}}function c(i){return function j(){var k=["ngTable:"+i].concat(Array.prototype.slice.call(arguments));d.$broadcast.apply(d,k)}}function h(j,i){return Array.prototype.slice.call(j,i==null?1:i)}}})();(function(){a.module("ngTable").provider("ngTableFilterConfig",b);b.$inject=[];function b(){var e;var c={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}};this.$get=g;this.resetConfigs=d;this.setConfig=f;h();function h(){d()}function d(){e=c}function f(i){var j=a.extend({},e,i);j.aliasUrls=a.extend({},e.aliasUrls,i.aliasUrls);e=j}g.$inject=[];function g(){var l;var i={config:l,getTemplateUrl:k,getUrlForAlias:j};Object.defineProperty(i,"config",{get:function(){return l=l||a.copy(e)},enumerable:true});return i;function k(n,m){if(a.isObject(n)){n=n.id}if(n.indexOf("/")!==-1){return n}return i.getUrlForAlias(n,m)}function j(m){return e.aliasUrls[m]||e.defaultBaseUrl+m+e.defaultExt}}}})();(function(){a.module("ngTable").provider("ngTableDefaultGetData",b);b.$inject=[];function b(){var d=this;d.$get=c;d.filterFilterName="filter";d.sortingFilterName="orderBy";c.$inject=["$filter"];function c(l){var e={applyFilter:true,applySort:true,applyPaging:true};i.applyPaging=m;i.getFilterFn=h;i.getOrderByFn=g;return i;function h(n){var o=n.settings().filterOptions;if(a.isFunction(o.filterFn)){return o.filterFn}else{return l(o.filterFilterName||d.filterFilterName)}}function g(){return l(d.sortingFilterName)}function j(q,s){if(!s.hasFilter()){return q}var o=s.filter(true);var p=Object.keys(o);var n=p.reduce(function(t,u){t=k(t,o[u],u);return t},{});var r=h(s);return r.call(s,q,n,s.settings().filterOptions.filterComparator)}function m(o,p){var n=o.slice((p.page()-1)*p.count(),p.page()*p.count());p.total(o.length);return n}function f(o,q){var p=q.orderBy();var n=g(q);return p.length?n(o,p):o}function i(q,r){if(q==null){return[]}var o=a.extend({},e,r.settings().dataOptions);var n=o.applyFilter?j(q,r):q;var p=o.applySort?f(n,r):n;return o.applyPaging?m(p,r):p}function k(u,r,t){var q=t.split(".");var o=u;var n=q[q.length-1];var s=o;var p=q.slice(0,q.length-1);p.forEach(function(v){if(!s.hasOwnProperty(v)){s[v]={}}s=s[v]});s[n]=r;return o}}}})();(function(){a.module("ngTable").factory("ngTableColumn",[function(){return{buildColumn:b};function b(g,k,f){var i=Object.create(g);var h=e();for(var j in h){if(i[j]===undefined){i[j]=h[j]}if(!a.isFunction(i[j])){(function(m){var l=function l(){if(arguments.length===1&&!d(arguments[0])){l.assign(null,arguments[0])}else{return g[m]}};l.assign=function(n,o){g[m]=o};i[m]=l})(j)}(function(l){var m=i[l];i[l]=function(){if(arguments.length===1&&!d(arguments[0])){m.assign(null,arguments[0])}else{var o=arguments[0]||k;var n=Object.create(o);a.extend(n,{$column:i,$columns:f});return m.call(g,n)}};if(m.assign){i[l].assign=m.assign}})(j)}return i}function e(){return{"class":c(""),filter:c(false),groupable:c(false),filterData:a.noop,headerTemplateURL:c(false),headerTitle:c(""),sortable:c(false),show:c(true),title:c(""),titleAlt:c("")}}function c(f){var h=f;var g=function g(){if(arguments.length===1&&!d(arguments[0])){g.assign(null,arguments[0])}else{return h}};g.assign=function(i,j){h=j};return g}function d(f){return f!=null&&a.isFunction(f.$new)}}])})();(function(){a.module("ngTable").factory("NgTableParams",["$q","$log","$filter","ngTableDefaults","ngTableDefaultGetData","ngTableEventsChannel",function(b,g,i,e,d,f){var c=function(j){return !isNaN(parseFloat(j))&&isFinite(j)};var h=function(r,m){if(typeof r==="boolean"){this.isNullInstance=true}var x=this,l,p,B=false,o=[],t=function(){if(A.debugMode&&g.debug){g.debug.apply(g,arguments)}},z={filterComparator:undefined,filterDelay:500,filterDelayThreshold:10000,filterFilterName:undefined,filterFn:undefined,filterLayout:"stack"},n={defaultSort:"asc",isExpanded:true},u=j();this.data=[];this.parameters=function(G,M){M=M||false;if(a.isDefined(G)){for(var J in G){var H=G[J];if(M&&J.indexOf("[")>=0){var L=J.split(/\[(.*)\]/).reverse();
    var K="";for(var E=0,F=L.length;E<F;E++){var D=L[E];if(D!==""){var I=H;H={};H[K=D]=(c(I)?parseFloat(I):I)}}if(K==="sorting"){C[K]={}}C[K]=a.extend(C[K]||{},H[K])}else{if(J==="group"){C[J]=v(G[J])}else{C[J]=(c(G[J])?parseFloat(G[J]):G[J])}}}t("ngTable: set parameters",C);return this}return C};function v(F){var G=A.groupOptions&&A.groupOptions.defaultSort;if(a.isFunction(F)){if(F.sortDirection==null){F.sortDirection=G}return F}else{if(a.isString(F)){var D={};D[F]=G;return D}else{if(a.isObject(F)){for(var E in F){if(F[E]==null){F[E]=G}}return F}else{return F}}}}this.settings=function(E){if(a.isDefined(E)){if(E.filterOptions){E.filterOptions=a.extend({},A.filterOptions,E.filterOptions)}if(E.groupOptions){E.groupOptions=a.extend({},A.groupOptions,E.groupOptions)}if(a.isArray(E.dataset)){E.total=E.dataset.length}var G=A.dataset;A=a.extend(A,E);if(a.isArray(E.dataset)){w()}var D=E.hasOwnProperty("dataset")&&(E.dataset!=G);if(D){if(B){this.page(1)}B=false;var F=function(){f.publishDatasetChanged(x,E.dataset,G)};if(o){o.push(F)}else{F()}}t("ngTable: set settings",A);return this}return A};this.page=function(D){return a.isDefined(D)?this.parameters({"page":D}):C.page};this.total=function(D){return a.isDefined(D)?this.settings({"total":D}):A.total};this.count=function(D){return a.isDefined(D)?this.parameters({"count":D,"page":1}):C.count};this.filter=function(F){if(a.isDefined(F)&&a.isObject(F)){return this.parameters({"filter":F,"page":1})}else{if(F===true){var G=Object.keys(C.filter);var D={};for(var E=0;E<G.length;E++){var H=C.filter[G[E]];if(H!=null&&H!==""){D[G[E]]=H}}return D}else{return C.filter}}};this.group=function(G,F){if(!a.isDefined(G)){return C.group}var D={page:1};if(a.isFunction(G)&&a.isDefined(F)){G.sortDirection=F;D.group=G}else{if(a.isDefined(G)&&a.isDefined(F)){var E={};E[G]=F;D.group=E}else{D.group=G}}this.parameters(D);return this};this.sorting=function(E){if(arguments.length==2){var D={};D[E]=arguments[1];this.parameters({"sorting":D});return this}return a.isDefined(E)?this.parameters({"sorting":E}):C.sorting};this.isSortBy=function(E,D){if(D!==undefined){return a.isDefined(C.sorting[E])&&C.sorting[E]==D}else{return a.isDefined(C.sorting[E])}};this.orderBy=function(){return y(C.sorting)};function y(F){var D=[];for(var E in F){D.push((F[E]==="asc"?"+":"-")+E)}return D}this.generatePagesArray=function(H,L,I,M){if(!arguments.length){H=this.page();L=this.total();I=this.count()}var G,J,K,E,D;M=M&&M<6?6:M;D=[];E=Math.ceil(L/I);if(E>1){D.push({type:"prev",number:Math.max(1,H-1),active:H>1});D.push({type:"first",number:1,active:H>1,current:H===1});J=Math.round((A.paginationMaxBlocks-A.paginationMinBlocks)/2);K=Math.max(2,H-J);G=Math.min(E-1,H+J*2-(H-K));K=Math.max(2,K-(J*2-(G-K)));var F=K;while(F<=G){if((F===K&&F!==2)||(F===G&&F!==E-1)){D.push({type:"more",active:false})}else{D.push({type:"page",number:F,active:H!==F,current:H===F})}F++}D.push({type:"last",number:E,active:H!==E,current:H===E});D.push({type:"next",number:Math.min(E,H+1),active:H<E})}return D};this.isDataReloadRequired=function(){return !B||!a.equals(q(),l)||k()};function q(){var D={params:C};if(a.isFunction(C.group)){D.groupSortDirection=C.group.sortDirection}return D}this.hasFilter=function(){return Object.keys(this.filter(true)).length>0};this.hasGroup=function(E,D){if(E==null){return a.isFunction(C.group)||Object.keys(C.group).length>0}if(a.isFunction(E)){if(D==null){return C.group===E}else{return C.group===E&&E.sortDirection===D}}else{if(D==null){return Object.keys(C.group).indexOf(E)!==-1}else{return C.group[E]===D}}};this.hasFilterChanges=function(){var D=(l&&l.params.filter);return !a.equals((C.filter),D)||k()};function k(){var E=(C.filter&&C.filter.$);var D=(l&&l.params.filter&&l.params.filter.$);return !a.equals(E,D)}this.url=function(J){J=J||false;var E=(J?[]:{});for(var K in C){if(C.hasOwnProperty(K)){var L=C[K],D=encodeURIComponent(K);if(typeof L==="object"){for(var I in L){if(G(L[I],K)){var F=D+"["+encodeURIComponent(I)+"]";H(L[I],F)}}}else{if(!a.isFunction(L)&&G(L,K)){H(L,D)}}}}return E;function H(N,M){if(J){E.push(M+"="+encodeURIComponent(N))}else{E[M]=encodeURIComponent(N)}}function G(N,M){return M==="group"?true:a.isDefined(N)&&N!==""}};this.reload=function(){var D=this,E=null;A.$loading=true;l=a.copy(q());B=true;if(D.hasGroup()){E=s(b.when(A.getGroups(D)))}else{E=s(b.when(A.getData(D)))}t("ngTable: reload data");var F=D.data;return E.then(function(G){A.$loading=false;p=null;D.data=G;f.publishAfterReloadData(D,G,F);D.reloadPages();return G},function(G){p=l;return b.reject(G)})};this.hasErrorState=function(){return !!(p&&a.equals(p,q()))};function w(){if(A.filterOptions.filterDelay===z.filterDelay&&A.total<=A.filterOptions.filterDelayThreshold&&A.getData===u.getData){A.filterOptions.filterDelay=0}}this.reloadPages=(function(){var D;return function(){var F=D;var E=x.generatePagesArray(x.page(),x.total(),x.count());if(!a.equals(F,E)){D=E;f.publishPagesChanged(this,E,F)}}})();function s(D){var E=A.interceptors||[];return E.reduce(function(F,I){var H=(I.response&&I.response.bind(I))||b.when;
    var G=(I.responseError&&I.responseError.bind(I))||b.reject;return F.then(function(J){return H(J,x)},function(J){return G(J,x)})},D)}function j(){return{getData:D,getGroups:F};function D(G){return d(G.settings().dataset,G)}function F(M){var K=M.group();var N;var J=undefined;if(a.isFunction(K)){N=K;J=K.sortDirection}else{var G=Object.keys(K)[0];J=K[G];N=function(O){return E(O,G)}}var I=M.settings();var L=I.dataOptions;I.dataOptions={applyPaging:false};var H=b.when(I.getData(M));return H.then(function(S){var P={};a.forEach(S,function(U){var V=N(U);P[V]=P[V]||{data:[],$hideRows:!I.groupOptions.isExpanded,value:V};P[V].data.push(U)});var O=[];for(var Q in P){O.push(P[Q])}if(J){var R=d.getOrderByFn();var T=y({value:J});O=R(O,T)}return d.applyPaging(O,M)},function(){I.dataOptions=L})}function E(G,H){if(typeof H=="string"){H=H.split(".")}if(G===undefined){return void 0}if(H.length===0){return G}if(G===null){return void 0}return E(G[H[0]],H.slice(1))}}var C={page:1,count:10,filter:{},sorting:{},group:{}};a.extend(C,e.params);var A={$loading:false,dataset:null,total:0,defaultSort:"desc",filterOptions:a.copy(z),groupOptions:a.copy(n),counts:[10,25,50,100],interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span"};this.settings(u);this.settings(e.settings);this.settings(m);this.parameters(r,true);f.publishAfterCreated(this);a.forEach(o,function(D){D()});o=null;return this};return h}])})();(function(){a.module("ngTable").controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn","ngTableEventsChannel",function(m,r,q,c,o,d,l,f,n){var s=true;m.$filterRow={};m.$loading=false;if(!m.hasOwnProperty("params")){m.params=new r(true)}m.params.settings().$scope=m;var b=(function(){var t=0;return function(v,u){q.cancel(t);t=q(v,u)}})();function j(t){if(!t||m.params.hasErrorState()){return}m.params.settings().$scope=m;var v=m.params;var w=v.settings().filterOptions;if(v.hasFilterChanges()){var u=function(){v.page(1);v.reload()};if(w.filterDelay){b(u,w.filterDelay)}else{u()}}else{v.reload()}}m.$watch("params",function(u,t){if(u===t||!u){return}u.reload()},false);m.$watch("params.isDataReloadRequired()",j);this.compileDirectiveTemplates=function(){if(!l.hasClass("ng-table")){m.templates={header:(d.templateHeader?d.templateHeader:"ng-table/header.html"),pagination:(d.templatePagination?d.templatePagination:"ng-table/pager.html")};l.addClass("ng-table");var v=null;var u=false;a.forEach(l.children(),function(w){if(w.tagName==="THEAD"){u=true}});if(!u){v=a.element(document.createElement("thead")).attr("ng-include","templates.header");l.prepend(v)}var t=a.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});l.after(t);if(v){o(v)(m)}o(t)(m)}};this.loadFilterData=function(t){a.forEach(t,function(w){var u;u=w.filterData(m);if(!u){delete w.filterData;return}if((a.isObject(u)&&(a.isObject(u.promise)||a.isFunction(u.then)))){var v=a.isFunction(u.then)?u:u.promise;delete w.filterData;return v.then(function(x){if(!a.isArray(x)&&!a.isFunction(x)&&!a.isObject(x)){x=[]}w.data=x})}else{return w.data=u}})};this.buildColumns=function(u){var t=[];(u||[]).forEach(function(v){t.push(f.buildColumn(v,m,t))});return t};this.parseNgTableDynamicExpr=function(t){if(!t||t.indexOf(" with ")>-1){var u=t.split(/\s+with\s+/);return{tableParams:u[0],columns:u[1]}}else{throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")}};this.setupBindingsToInternalScope=function(u){var t=c(u);m.$watch(t,(function(v){if(a.isUndefined(v)){return}m.paramsModel=t;m.params=v}),false);p();k()};function p(){if(d==undefined){m.show_filter=false}else{if(d.showFilter){m.$parent.$watch(d.showFilter,function(t){m.show_filter=t})}else{m.$watch(i,function(t){m.show_filter=t})}}if(d.disableFilter){m.$parent.$watch(d.disableFilter,function(t){m.$filterRow.disabled=t})}}function k(){m.$groupRow={};if(d.showGroup){var t=c(d.showGroup);m.$parent.$watch(t,function(u){m.$groupRow.show=u});if(t.assign){m.$watch("$groupRow.show",function(u){t.assign(m.$parent,u)})}}else{m.$watch("params.hasGroup()",function(u){m.$groupRow.show=u})}}function g(){return(m.$columns||[]).filter(function(t){return t.show(m)})}function i(){if(!m.$columns){return false}return h(m.$columns,function(t){return t.show(m)&&t.filter(m)})}function h(x,t){var v=false;for(var u=0;u<x.length;u++){var w=x[u];if(t(w)){v=true;break}}return v}function e(){n.onAfterReloadData(u,m,t);n.onPagesChanged(v,m,t);function u(y,w){var x=g();if(y.hasGroup()){m.$groups=w||[];m.$groups.visibleColumnCount=x.length}else{m.$data=w||[];m.$data.visibleColumnCount=x.length}}function v(x,w){m.pages=w}function t(w){return m.params===w}}e()}])})();(function(){a.module("ngTable").directive("ngTable",["$q","$parse",function(b,c){return{restrict:"A",priority:1001,scope:true,controller:"ngTableController",compile:function(g){var f=[],e=0,d,j,h=[];a.forEach(g.find("tr"),function(i){h.push(a.element(i))
    });d=h.filter(function(i){return !i.hasClass("ng-table-group")})[0];j=h.filter(function(i){return i.hasClass("ng-table-group")})[0];if(!d){return}a.forEach(d.find("td"),function(o){var n=a.element(o);if(n.attr("ignore-cell")&&"true"===n.attr("ignore-cell")){return}var m=function(p){return n.attr("x-data-"+p)||n.attr("data-"+p)||n.attr(p)};var k=function(p,q){if(n.attr("x-data-"+p)){n.attr("x-data-"+p,q)}else{if(n.attr("data"+p)){n.attr("data"+p,q)}else{n.attr(p,q)}}};var l=function(q){var s=m(q);if(!s){return undefined}var r;var p=function(t){if(r!==undefined){return r}return c(s)(t)};p.assign=function(t,u){var v=c(s);if(v.assign){v.assign(t.$parent,u)}else{r=u}};return p};var i=m("title-alt")||m("title");if(i){n.attr("data-title-text","{{"+i+"}}")}f.push({id:e++,title:l("title"),titleAlt:l("title-alt"),headerTitle:l("header-title"),sortable:l("sortable"),"class":l("header-class"),filter:l("filter"),groupable:l("groupable"),headerTemplateURL:l("header"),filterData:l("filter-data"),show:n.attr("ng-if")?l("ng-if"):undefined});if(j||n.attr("ng-if")){k("ng-if","$columns["+(f.length-1)+"].show(this)")}});return function(m,l,k,i){m.$columns=f=i.buildColumns(f);i.setupBindingsToInternalScope(k.ngTable);i.loadFilterData(f);i.compileDirectiveTemplates()}}}}])})();(function(){a.module("ngTable").directive("ngTableDynamic",[function(){return{restrict:"A",priority:1001,scope:true,controller:"ngTableController",compile:function(b){var c;a.forEach(b.find("tr"),function(d){d=a.element(d);if(!d.hasClass("ng-table-group")&&!c){c=d}});if(!c){return}a.forEach(c.find("td"),function(h){var g=a.element(h);var f=function(i){return g.attr("x-data-"+i)||g.attr("data-"+i)||g.attr(i)};var d=f("title");if(!d){g.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}")}var e=g.attr("ng-if");if(!e){g.attr("ng-if","$columns[$index].show(this)")}});return function(g,f,e,d){var h=d.parseNgTableDynamicExpr(e.ngTableDynamic);d.setupBindingsToInternalScope(h.tableParams);d.compileDirectiveTemplates();g.$watchCollection(h.columns,function(i){g.$columns=d.buildColumns(i);d.loadFilterData(g.$columns)})}}}}])})();(function(){a.module("ngTable").directive("ngTableColumnsBinding",b);b.$inject=["$parse"];function b(d){var e={restrict:"A",require:"ngTable",link:c};return e;function c(h,g,f){var i=d(f.ngTableColumnsBinding).assign;if(i){h.$watch("$columns",function(k){var j=(k||[]).slice(0);i(h,j)})}}}})();(function(){a.module("ngTable").directive("ngTablePagination",["$compile","ngTableEventsChannel",function(b,c){return{restrict:"A",scope:{"params":"=ngTablePagination","templateUrl":"="},replace:false,link:function(e,d){c.onAfterReloadData(function(f){e.pages=f.generatePagesArray()},e,function(f){return f===e.params});e.$watch("templateUrl",function(g){if(a.isUndefined(g)){return}var f=a.element(document.createElement("div"));f.attr({"ng-include":"templateUrl"});d.append(f);b(f)(e)})}}}])})();(function(){a.module("ngTable").controller("ngTableFilterRowController",b);b.$inject=["$scope","ngTableFilterConfig"];function b(c,d){c.config=d;c.getFilterCellCss=function(g,h){if(h!=="horizontal"){return"s12"}var e=Object.keys(g).length;var f=parseInt(12/e,10);return"s"+f};c.getFilterPlaceholderValue=function(e){if(a.isObject(e)){return e.placeholder}else{return""}}}})();(function(){a.module("ngTable").directive("ngTableFilterRow",b);b.$inject=[];function b(){var c={restrict:"E",replace:true,templateUrl:"ng-table/filterRow.html",scope:true,controller:"ngTableFilterRowController"};return c}})();(function(){a.module("ngTable").controller("ngTableGroupRowController",b);b.$inject=["$scope"];function b(m){var c=[];n();function n(){m.getGroupables=e;m.getGroupTitle=i;m.getVisibleColumns=f;m.groupBy=l;m.isSelectedGroup=k;m.toggleDetail=h;m.$watch("params.group()",d,true)}function g(){var o;if(m.params.hasGroup(m.$selGroup,"asc")){o="desc"}else{if(m.params.hasGroup(m.$selGroup,"desc")){o=""}else{o="asc"}}m.params.group(m.$selGroup,o)}function j(o){return m.$columns.filter(function(p){return p.groupable(m)===o})[0]}function i(o){return a.isFunction(o)?o.title:o.title(m)}function e(){var o=m.$columns.filter(function(p){return p.groupable(m)});return c.concat(o)}function f(){return m.$columns.filter(function(o){return o.show(m)})}function l(o){if(k(o)){g()}else{if(o.groupable){m.params.group(o.groupable(m))}else{m.params.group(o)}}}function k(o){if(o.groupable){return o.groupable(m)===m.$selGroup}else{return o===m.$selGroup}}function d(r){var p=j(m.$selGroup);if(p&&p.show.assign){p.show.assign(m,true)}if(a.isFunction(r)){c=[r];m.$selGroup=r;m.$selGroupTitle=r.title}else{var o=Object.keys(r||{})[0];var q=j(o);if(q){m.$selGroupTitle=q.title(m);m.$selGroup=o;if(q.show.assign){q.show.assign(m,false)}}}}function h(){m.params.settings().groupOptions.isExpanded=!m.params.settings().groupOptions.isExpanded;return m.params.reload()}}})();(function(){a.module("ngTable").directive("ngTableGroupRow",b);b.$inject=[];function b(){var c={restrict:"E",replace:true,templateUrl:"ng-table/groupRow.html",scope:true,controller:"ngTableGroupRowController",controllerAs:"dctrl"};
    return c}})();(function(){a.module("ngTable").controller("ngTableSorterRowController",b);b.$inject=["$scope"];function b(c){c.sortBy=d;function d(i,g){var f=i.sortable&&i.sortable();if(!f){return}var k=c.params.settings().defaultSort;var e=(k==="asc"?"desc":"asc");var h=c.params.sorting()&&c.params.sorting()[f]&&(c.params.sorting()[f]===k);var j=(g.ctrlKey||g.metaKey)?c.params.sorting():{};j[f]=(h?e:k);c.params.parameters({sorting:j})}}})();(function(){a.module("ngTable").directive("ngTableSorterRow",b);b.$inject=[];function b(){var c={restrict:"E",replace:true,templateUrl:"ng-table/sorterRow.html",scope:true,controller:"ngTableSorterRowController"};return c}})();(function(){a.module("ngTable").directive("ngTableSelectFilterDs",b);b.$inject=[];function b(){var d={restrict:"A",controller:c};return d}c.$inject=["$scope","$parse","$attrs","$q"];function c(k,d,i,h){var j={};l();function l(){j=d(i.ngTableSelectFilterDs)(k);k.$watch(function(){return j.data},f)}function f(){g(j).then(function(m){if(m&&!e(m)){m.unshift({id:"",title:""})}m=m||[];k.$selectData=m})}function e(p){var n;for(var m=0;m<p.length;m++){var o=p[m];if(o&&o.id===""){n=true;break}}return n}function g(n){var m=a.isFunction(n.data)?n.data():n.data;return h.when(m)}}})();a.module("ngTable").run(["$templateCache",function(b){b.put("ng-table/filterRow.html",'<tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if="$column.show(this)" class="filter {{$column.class(this)}}" ng-class="params.settings().filterOptions.filterLayout===\'horizontal\' ? \'filter-horizontal\' : \'\'"> <div ng-repeat="(name, filter) in $column.filter(this)" ng-include="config.getTemplateUrl(filter)" class="filter-cell" ng-class="[getFilterCellCss($column.filter(this), params.settings().filterOptions.filterLayout), $last ? \'last\' : \'\']"> </div> </th> </tr> ');b.put("ng-table/filters/number.html",'<input type="number" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> ');b.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" class="filter filter-select-multiple form-control" name="{{name}}"> </select> ');b.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $selectData" ng-table-select-filter-ds="$column" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="filter filter-select form-control" name="{{name}}"> <option style="display:none" value=""></option> </select> ');b.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> ');b.put("ng-table/groupRow.html",'<tr ng-if="params.hasGroup()" ng-show="$groupRow.show" class="ng-table-group-header"> <th colspan="{{getVisibleColumns().length}}" class="sortable" ng-class="{ \'sort-asc\': params.hasGroup($selGroup, \'asc\'), \'sort-desc\':params.hasGroup($selGroup, \'desc\') }"> <a href="" ng-click="isSelectorOpen=!isSelectorOpen" class="ng-table-group-selector"> <strong class="sort-indicator">{{$selGroupTitle}}</strong> <button class="btn btn-default btn-xs ng-table-group-close" ng-click="$groupRow.show=false; $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon glyphicon-remove"></span> </button> <button class="btn btn-default btn-xs ng-table-group-toggle" ng-click="toggleDetail(); $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon" ng-class="{ \'glyphicon-resize-small\': params.settings().groupOptions.isExpanded, \'glyphicon-resize-full\': !params.settings().groupOptions.isExpanded }"></span> </button> </a> <div class="list-group" ng-if="isSelectorOpen"> <a href="" class="list-group-item" ng-repeat="group in getGroupables()" ng-click="groupBy(group)"> <strong>{{ getGroupTitle(group)}}</strong> <strong ng-class="isSelectedGroup(group) && \'sort-indicator\'"></strong> </a> </div> </th> </tr> ');b.put("ng-table/header.html","<ng-table-group-row></ng-table-group-row> <ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> ");b.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <div ng-if="pages.length" style="float: right;margin-left: 10px;margin-top: -5px;color: #b3b3b3;"><span>共{{pages[pages.length-2].number}}页</span></div><ul ng-if="pages.length" class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ');
    b.put("ng-table/sorterRow.html",'<tr class="ng-table-sort-header"> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}]);return a.module("ngTable")}));